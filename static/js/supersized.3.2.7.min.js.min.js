(function(a){a(document).ready(function(){a("body").append('<div id="supersized-loader"></div><ul id="supersized"></ul>')});a.supersized=function(b){var d="#supersized",c=this;c.$el=a(d);c.el=d;vars=a.supersized.vars;c.$el.data("supersized",c);api=c.$el.data("supersized");c.init=function(){a.supersized.vars=a.extend(a.supersized.vars,a.supersized.themeVars);a.supersized.vars.options=a.extend({},a.supersized.defaultOptions,a.supersized.themeOptions,b);c.options=a.supersized.vars.options;c._build()};c._build=function(){var g=0,k="",f="",h,j="",e;while(g<=c.options.slides.length-1){switch(c.options.slide_links){case"num":h=g;break;case"name":h=c.options.slides[g].title;break;case"blank":h=""}k=k+'<li class="slide-'+g+'"></li>';if(g==c.options.start_slide-1){c.options.slide_links&&(f=f+'<li class="slide-link-'+g+' current-slide"><a>'+h+"</a></li>");if(c.options.thumb_links){c.options.slides[g].thumb?e=c.options.slides[g].thumb:e=c.options.slides[g].image;j=j+'<li class="thumb'+g+' current-thumb"><img src="'+e+'"/></li>'}}else{c.options.slide_links&&(f=f+'<li class="slide-link-'+g+'" ><a>'+h+"</a></li>");if(c.options.thumb_links){c.options.slides[g].thumb?e=c.options.slides[g].thumb:e=c.options.slides[g].image;j=j+'<li class="thumb'+g+'"><img src="'+e+'"/></li>'}}g++}c.options.slide_links&&a(vars.slide_list).html(f);c.options.thumb_links&&vars.thumb_tray.length&&a(vars.thumb_tray).append('<ul id="'+vars.thumb_list.replace("#","")+'">'+j+"</ul>");a(c.el).append(k);if(c.options.thumbnail_navigation){vars.current_slide-1<0?prevThumb=c.options.slides.length-1:prevThumb=vars.current_slide-1;a(vars.prev_thumb).show().html(a("<img/>").attr("src",c.options.slides[prevThumb].image));vars.current_slide==c.options.slides.length-1?nextThumb=0:nextThumb=vars.current_slide+1;a(vars.next_thumb).show().html(a("<img/>").attr("src",c.options.slides[nextThumb].image))}c._start()};c._start=function(){c.options.start_slide?vars.current_slide=c.options.start_slide-1:vars.current_slide=Math.floor(Math.random()*c.options.slides.length);var w=c.options.new_window?' target="_blank"':"";c.options.performance==3?c.$el.addClass("speed"):(c.options.performance==1||c.options.performance==2)&&c.$el.addClass("quality");if(c.options.random){arr=c.options.slides;for(var g,k,x=arr.length;x;g=parseInt(Math.random()*x),k=arr[--x],arr[x]=arr[g],arr[g]=k){}c.options.slides=arr}if(c.options.slides.length>1){if(c.options.slides.length>2){vars.current_slide-1<0?loadPrev=c.options.slides.length-1:loadPrev=vars.current_slide-1;var e=c.options.slides[loadPrev].url?"href='"+c.options.slides[loadPrev].url+"'":"",v=a('<img src="'+c.options.slides[loadPrev].image+'"/>'),r=c.el+" li:eq("+loadPrev+")";v.appendTo(r).wrap("<a "+e+w+"></a>").parent().parent().addClass("image-loading prevslide");v.load(function(){a(this).data("origWidth",a(this).width()).data("origHeight",a(this).height());c.resizeNow()})}}else{c.options.slideshow=0}e=api.getField("url")?"href='"+api.getField("url")+"'":"";var p=a('<img src="'+api.getField("image")+'"/>'),j=c.el+" li:eq("+vars.current_slide+")";p.appendTo(j).wrap("<a "+e+w+"></a>").parent().parent().addClass("image-loading activeslide");p.load(function(){c._origDim(a(this));c.resizeNow();c.launch();typeof theme!="undefined"&&typeof theme._init=="function"&&theme._init()});if(c.options.slides.length>1){vars.current_slide==c.options.slides.length-1?loadNext=0:loadNext=vars.current_slide+1;e=c.options.slides[loadNext].url?"href='"+c.options.slides[loadNext].url+"'":"";var q=a('<img src="'+c.options.slides[loadNext].image+'"/>'),m=c.el+" li:eq("+loadNext+")";q.appendTo(m).wrap("<a "+e+w+"></a>").parent().parent().addClass("image-loading");q.load(function(){a(this).data("origWidth",a(this).width()).data("origHeight",a(this).height());c.resizeNow()})}c.$el.css("visibility","hidden");a(".load-item").hide()};c.launch=function(){c.$el.css("visibility","visible");a("#supersized-loader").remove();typeof theme!="undefined"&&typeof theme.beforeAnimation=="function"&&theme.beforeAnimation("next");a(".load-item").show();c.options.keyboard_nav&&a(document.documentElement).keyup(function(f){if(vars.in_animation){return !1}if(f.keyCode==37||f.keyCode==40){clearInterval(vars.slideshow_interval);c.prevSlide()}else{if(f.keyCode==39||f.keyCode==38){clearInterval(vars.slideshow_interval);c.nextSlide()}else{if(f.keyCode==32&&!vars.hover_pause){clearInterval(vars.slideshow_interval);c.playToggle()}}}});c.options.slideshow&&c.options.pause_hover&&a(c.el).hover(function(){if(vars.in_animation){return !1}vars.hover_pause=!0;if(!vars.is_paused){vars.hover_pause="resume";c.playToggle()}},function(){if(vars.hover_pause=="resume"){c.playToggle();vars.hover_pause=!1}});c.options.slide_links&&a(vars.slide_list+"> li").click(function(){index=a(vars.slide_list+"> li").index(this);targetSlide=index+1;c.goTo(targetSlide);return !1});c.options.thumb_links&&a(vars.thumb_list+"> li").click(function(){index=a(vars.thumb_list+"> li").index(this);targetSlide=index+1;api.goTo(targetSlide);return !1});if(c.options.slideshow&&c.options.slides.length>1){c.options.autoplay&&c.options.slides.length>1?vars.slideshow_interval=setInterval(c.nextSlide,c.options.slide_interval):vars.is_paused=!0;a(".load-item img").bind("contextmenu mousedown",function(){return !1})}a(window).resize(function(){c.resizeNow()})};c.resizeNow=function(){return c.$el.each(function(){a("img",c.el).each(function(){function j(i){if(i){if(thisSlide.width()<k||thisSlide.width()<c.options.min_width){if(thisSlide.width()*g>=c.options.min_height){thisSlide.width(c.options.min_width);thisSlide.height(thisSlide.width()*g)}else{e()}}}else{if(c.options.min_height>=f&&!c.options.fit_landscape){if(k*g>=c.options.min_height||k*g>=c.options.min_height&&g<=1){thisSlide.width(k);thisSlide.height(k*g)}else{if(g>1){thisSlide.height(c.options.min_height);thisSlide.width(thisSlide.height()/g)}else{if(thisSlide.width()<k){thisSlide.width(k);thisSlide.height(thisSlide.width()*g)}}}}else{thisSlide.width(k);thisSlide.height(k*g)}}}function e(i){if(i){if(thisSlide.height()<f){if(thisSlide.height()/g>=c.options.min_width){thisSlide.height(c.options.min_height);thisSlide.width(thisSlide.height()/g)}else{j(!0)}}}else{if(c.options.min_width>=k){if(f/g>=c.options.min_width||g>1){thisSlide.height(f);thisSlide.width(f/g)}else{if(g<=1){thisSlide.width(c.options.min_width);thisSlide.height(thisSlide.width()*g)}}}else{thisSlide.height(f);thisSlide.width(f/g)}}}thisSlide=a(this);var g=(thisSlide.data("origHeight")/thisSlide.data("origWidth")).toFixed(2),k=c.$el.width(),f=c.$el.height(),h;c.options.fit_always?f/k>g?j():e():f<=c.options.min_height&&k<=c.options.min_width?f/k>g?c.options.fit_landscape&&g<1?j(!0):e(!0):c.options.fit_portrait&&g>=1?e(!0):j(!0):k<=c.options.min_width?f/k>g?c.options.fit_landscape&&g<1?j(!0):e():c.options.fit_portrait&&g>=1?e():j(!0):f<=c.options.min_height?f/k>g?c.options.fit_landscape&&g<1?j():e(!0):c.options.fit_portrait&&g>=1?e(!0):j():f/k>g?c.options.fit_landscape&&g<1?j():e():c.options.fit_portrait&&g>=1?e():j();thisSlide.parents("li").hasClass("image-loading")&&a(".image-loading").removeClass("image-loading");c.options.horizontal_center&&a(this).css("left",(k-a(this).width())/2);c.options.vertical_center&&a(this).css("top",(f-a(this).height())/2)});c.options.image_protect&&a("img",c.el).bind("contextmenu mousedown",function(){return !1});return !1})};c.nextSlide=function(){if(vars.in_animation||!api.options.slideshow){return !1}vars.in_animation=!0;clearInterval(vars.slideshow_interval);var h=c.options.slides,l=c.$el.find(".activeslide");a(".prevslide").removeClass("prevslide");l.removeClass("activeslide").addClass("prevslide");vars.current_slide+1==c.options.slides.length?vars.current_slide=0:vars.current_slide++;var g=a(c.el+" li:eq("+vars.current_slide+")"),j=c.$el.find(".prevslide");c.options.performance==1&&c.$el.removeClass("quality").addClass("speed");loadSlide=!1;vars.current_slide==c.options.slides.length-1?loadSlide=0:loadSlide=vars.current_slide+1;var k=c.el+" li:eq("+loadSlide+")";if(!a(k).html()){var f=c.options.new_window?' target="_blank"':"";imageLink=c.options.slides[loadSlide].url?"href='"+c.options.slides[loadSlide].url+"'":"";var e=a('<img src="'+c.options.slides[loadSlide].image+'"/>');e.appendTo(k).wrap("<a "+imageLink+f+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden");e.load(function(){c._origDim(a(this));c.resizeNow()})}if(c.options.thumbnail_navigation==1){vars.current_slide-1<0?prevThumb=c.options.slides.length-1:prevThumb=vars.current_slide-1;a(vars.prev_thumb).html(a("<img/>").attr("src",c.options.slides[prevThumb].image));nextThumb=loadSlide;a(vars.next_thumb).html(a("<img/>").attr("src",c.options.slides[nextThumb].image))}typeof theme!="undefined"&&typeof theme.beforeAnimation=="function"&&theme.beforeAnimation("next");if(c.options.slide_links){a(".current-slide").removeClass("current-slide");a(vars.slide_list+"> li").eq(vars.current_slide).addClass("current-slide")}g.css("visibility","hidden").addClass("activeslide");switch(c.options.transition){case 0:case"none":g.css("visibility","visible");vars.in_animation=!1;c.afterAnimation();break;case 1:case"fade":g.css({opacity:0,visibility:"visible"}).animate({opacity:1,avoidTransforms:!1},c.options.transition_speed,function(){c.afterAnimation()});break;case 2:case"slideTop":g.css({top:-c.$el.height(),visibility:"visible"}).animate({top:0,avoidTransforms:!1},c.options.transition_speed,function(){c.afterAnimation()});break;case 3:case"slideRight":g.css({left:c.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},c.options.transition_speed,function(){c.afterAnimation()});break;case 4:case"slideBottom":g.css({top:c.$el.height(),visibility:"visible"}).animate({top:0,avoidTransforms:!1},c.options.transition_speed,function(){c.afterAnimation()});break;case 5:case"slideLeft":g.css({left:-c.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},c.options.transition_speed,function(){c.afterAnimation()});break;case 6:case"carouselRight":g.css({left:c.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},c.options.transition_speed,function(){c.afterAnimation()});l.animate({left:-c.$el.width(),avoidTransforms:!1},c.options.transition_speed);break;case 7:case"carouselLeft":g.css({left:-c.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},c.options.transition_speed,function(){c.afterAnimation()});l.animate({left:c.$el.width(),avoidTransforms:!1},c.options.transition_speed)}return !1};c.prevSlide=function(){if(vars.in_animation||!api.options.slideshow){return !1}vars.in_animation=!0;clearInterval(vars.slideshow_interval);var h=c.options.slides,l=c.$el.find(".activeslide");a(".prevslide").removeClass("prevslide");l.removeClass("activeslide").addClass("prevslide");vars.current_slide==0?vars.current_slide=c.options.slides.length-1:vars.current_slide--;var g=a(c.el+" li:eq("+vars.current_slide+")"),j=c.$el.find(".prevslide");c.options.performance==1&&c.$el.removeClass("quality").addClass("speed");loadSlide=vars.current_slide;var k=c.el+" li:eq("+loadSlide+")";if(!a(k).html()){var f=c.options.new_window?' target="_blank"':"";imageLink=c.options.slides[loadSlide].url?"href='"+c.options.slides[loadSlide].url+"'":"";var e=a('<img src="'+c.options.slides[loadSlide].image+'"/>');e.appendTo(k).wrap("<a "+imageLink+f+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden");e.load(function(){c._origDim(a(this));c.resizeNow()})}if(c.options.thumbnail_navigation==1){loadSlide==0?prevThumb=c.options.slides.length-1:prevThumb=loadSlide-1;a(vars.prev_thumb).html(a("<img/>").attr("src",c.options.slides[prevThumb].image));vars.current_slide==c.options.slides.length-1?nextThumb=0:nextThumb=vars.current_slide+1;a(vars.next_thumb).html(a("<img/>").attr("src",c.options.slides[nextThumb].image))}typeof theme!="undefined"&&typeof theme.beforeAnimation=="function"&&theme.beforeAnimation("prev");if(c.options.slide_links){a(".current-slide").removeClass("current-slide");a(vars.slide_list+"> li").eq(vars.current_slide).addClass("current-slide")}g.css("visibility","hidden").addClass("activeslide");switch(c.options.transition){case 0:case"none":g.css("visibility","visible");vars.in_animation=!1;c.afterAnimation();break;case 1:case"fade":g.css({opacity:0,visibility:"visible"}).animate({opacity:1,avoidTransforms:!1},c.options.transition_speed,function(){c.afterAnimation()});break;case 2:case"slideTop":g.css({top:c.$el.height(),visibility:"visible"}).animate({top:0,avoidTransforms:!1},c.options.transition_speed,function(){c.afterAnimation()});break;case 3:case"slideRight":g.css({left:-c.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},c.options.transition_speed,function(){c.afterAnimation()});break;case 4:case"slideBottom":g.css({top:-c.$el.height(),visibility:"visible"}).animate({top:0,avoidTransforms:!1},c.options.transition_speed,function(){c.afterAnimation()});break;case 5:case"slideLeft":g.css({left:c.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},c.options.transition_speed,function(){c.afterAnimation()});break;case 6:case"carouselRight":g.css({left:-c.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},c.options.transition_speed,function(){c.afterAnimation()});l.css({left:0}).animate({left:c.$el.width(),avoidTransforms:!1},c.options.transition_speed);break;case 7:case"carouselLeft":g.css({left:c.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},c.options.transition_speed,function(){c.afterAnimation()});l.css({left:0}).animate({left:-c.$el.width(),avoidTransforms:!1},c.options.transition_speed)}return !1};c.playToggle=function(){if(vars.in_animation||!api.options.slideshow){return !1}if(vars.is_paused){vars.is_paused=!1;typeof theme!="undefined"&&typeof theme.playToggle=="function"&&theme.playToggle("play");vars.slideshow_interval=setInterval(c.nextSlide,c.options.slide_interval)}else{vars.is_paused=!0;typeof theme!="undefined"&&typeof theme.playToggle=="function"&&theme.playToggle("pause");clearInterval(vars.slideshow_interval)}return !1};c.goTo=function(e){if(vars.in_animation||!api.options.slideshow){return !1}var f=c.options.slides.length;e<0?e=f:e>f&&(e=1);e=f-e+1;clearInterval(vars.slideshow_interval);typeof theme!="undefined"&&typeof theme.goTo=="function"&&theme.goTo();if(vars.current_slide==f-e){vars.is_paused||(vars.slideshow_interval=setInterval(c.nextSlide,c.options.slide_interval));return !1}if(f-e>vars.current_slide){vars.current_slide=f-e-1;vars.update_images="next";c._placeSlide(vars.update_images)}else{if(f-e<vars.current_slide){vars.current_slide=f-e+1;vars.update_images="prev";c._placeSlide(vars.update_images)}}if(c.options.slide_links){a(vars.slide_list+"> .current-slide").removeClass("current-slide");a(vars.slide_list+"> li").eq(f-e).addClass("current-slide")}if(c.options.thumb_links){a(vars.thumb_list+"> .current-thumb").removeClass("current-thumb");a(vars.thumb_list+"> li").eq(f-e).addClass("current-thumb")}};c._placeSlide=function(f){var h=c.options.new_window?' target="_blank"':"";loadSlide=!1;if(f=="next"){vars.current_slide==c.options.slides.length-1?loadSlide=0:loadSlide=vars.current_slide+1;var e=c.el+" li:eq("+loadSlide+")";if(!a(e).html()){var h=c.options.new_window?' target="_blank"':"";imageLink=c.options.slides[loadSlide].url?"href='"+c.options.slides[loadSlide].url+"'":"";var g=a('<img src="'+c.options.slides[loadSlide].image+'"/>');g.appendTo(e).wrap("<a "+imageLink+h+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden");g.load(function(){c._origDim(a(this));c.resizeNow()})}c.nextSlide()}else{if(f=="prev"){vars.current_slide-1<0?loadSlide=c.options.slides.length-1:loadSlide=vars.current_slide-1;var e=c.el+" li:eq("+loadSlide+")";if(!a(e).html()){var h=c.options.new_window?' target="_blank"':"";imageLink=c.options.slides[loadSlide].url?"href='"+c.options.slides[loadSlide].url+"'":"";var g=a('<img src="'+c.options.slides[loadSlide].image+'"/>');g.appendTo(e).wrap("<a "+imageLink+h+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden");g.load(function(){c._origDim(a(this));c.resizeNow()})}c.prevSlide()}}};c._origDim=function(f){f.data("origWidth",f.width()).data("origHeight",f.height())};c.afterAnimation=function(){c.options.performance==1&&c.$el.removeClass("speed").addClass("quality");if(vars.update_images){vars.current_slide-1<0?setPrev=c.options.slides.length-1:setPrev=vars.current_slide-1;vars.update_images=!1;a(".prevslide").removeClass("prevslide");a(c.el+" li:eq("+setPrev+")").addClass("prevslide")}vars.in_animation=!1;if(!vars.is_paused&&c.options.slideshow){vars.slideshow_interval=setInterval(c.nextSlide,c.options.slide_interval);c.options.stop_loop&&vars.current_slide==c.options.slides.length-1&&c.playToggle()}typeof theme!="undefined"&&typeof theme.afterAnimation=="function"&&theme.afterAnimation();return !1};c.getField=function(f){return c.options.slides[vars.current_slide][f]};c.init()};a.supersized.vars={thumb_tray:"#thumb-tray",thumb_list:"#thumb-list",slide_list:"#slide-list",current_slide:0,in_animation:!1,is_paused:!1,hover_pause:!1,slideshow_interval:!1,update_images:!1,options:{}};a.supersized.defaultOptions={slideshow:1,autoplay:1,start_slide:1,stop_loop:0,random:0,slide_interval:5000,transition:1,transition_speed:750,new_window:1,pause_hover:0,keyboard_nav:1,performance:1,image_protect:1,fit_always:0,fit_landscape:0,fit_portrait:1,min_width:0,min_height:0,horizontal_center:1,vertical_center:1,slide_links:1,thumb_links:1,thumbnail_navigation:0};a.fn.supersized=function(b){return this.each(function(){new a.supersized(b)})}})(jQuery);